var lang,message,data_table_grid,notiAlert=function(type="success",title="Success",message="",url=""){$.notify({title:"<strong>"+title+"</strong>",message:message,url:url},{type:type,placement:{from:"bottom",align:"left"}})},timerInterval,loading=function(close=!1){close?swal.close():timerInterval=swal({title:"إنتظر من فضلك!",text:"... جارى تنفيذ العمليه",icon:urls.base_url+"/public/images/loading.gif",buttons:!1})},sendPost=function(method,action,data){loading(),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:action,type:method,data:data,contentType:!1,cache:!1,processData:!1,success:function(data){if(loading(!0),"success"==data.type)"POST"!=method&&data_table_grid.ajax.reload(),swal({title:"Good job!",title:"Good job!",text:"You clicked the button!",icon:"success",button:"Aww yiss!"}).then(value=>{location.reload()});else{var result=data.message;if(result.original){for(var key in result.original.errors){var div="<p class='error_massage' style='color:red'>*"+result.original.errors[key]+"</p>";$("#"+key+"_demo").append(div)}notiAlert("warning","Warning!","someThing wrong")}else if(Array.isArray(result)){for(var key in result){var div="<p class='error_massage' style='color:red'>*"+result[key]+"</p>";$("#"+key+"_demo").append(div)}notiAlert("warning","Warning!","someThing wrong")}else notiAlert("warning","Warning!",result)}},error:function(jqXHR,textStatus,errorThrown){notiAlert("error","Error!","Coding Error!"),swal({title:"Error!",text:jqXHR}),console.log(jqXHR)}})},getPost=function(model){$.ajax({url:action,type:"GET",data:data,contentType:!1,cache:!1,processData:!1,success:function(data){data.Error?alert("warning","Warning!","Something wrong!"):data.Success&&passData(model)},error:function(jqXHR,textStatus,errorThrown){alert("error","Error!","Coding Error!"),swal(jqXHR),console.log(jqXHR)}})},valdition=function(ruels){var returnFun=!0,list=document.getElementsByClassName("error_massage"),n;for(n=0;n<list.length;++n)list[n].innerHTML="";for(var k in ruels){var value=$("#"+k).val();for(var key in ruels[k])if("required"==ruels[k][key]){if(""==value.trim()){returnFun=!1;var div="<p class='error_massage' style='color:red'>*The "+k+" field is required</p>";$("#"+k+"_demo").append(div);break}}else if("email"==ruels[k][key]){if(!validateEmail(value)){returnFun=!1;var div="<p class='error_massage' style='color:red'>*Not valied Email</p>";$("#"+k+"_demo").append(div);break}}else if("number"==ruels[k][key]&&!Number.isInteger(parseInt(value))&&!isFloat(parseInt(value))){returnFun=!1;var div="<p class='error_massage' style='color:red'>*this field must be number</p>";$("#"+k+"_demo").append(div);break}}return returnFun};function validateEmail(email){var re;return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)}function isFloat(val){var floatRegex;return!!/^-?\d+(?:[.,]\d*?)?$/.test(val)&&(val=parseFloat(val),!isNaN(val))}var passData=function(){$.each(data.data,function(index,val){index.includes("_image")?$("#"+index).attr("src",val):$("#"+index).val(val).change()}),$("#"+model).modal("show")},getData=function(form){var formData,data;return new FormData($("#"+form)[0])},formClean=function(form){$("#"+form)[0].reset(),$("#"+form+" select").val("").change()},dataTable=function(form,url,colmuns){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),data_table_grid=$("#"+form).DataTable({processing:!0,serverSide:!0,searching:!0,ajax:url,columns:colmuns,responsive:!0,ordering:!1,lengthChange:!1,pageLength:5,language:{sSearch:"",paginate:{next:">>",previous:"<<"}},dom:"Bfrtip",buttons:["copy","excel","pdf"]}),filterChange()},dataTable_search=function(form,url,colmuns){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),data_table_grid=$("#"+form).DataTable({destroy:!0,processing:!0,serverSide:!0,searching:!0,ajax:url,columns:colmuns,responsive:!0,ordering:!1,lengthChange:!1,pageLength:5,language:{sSearch:"",paginate:{next:">>",previous:"<<"}},dom:"Bfrtip",buttons:["copy","excel","pdf"]})},dataTable_ajax=function(form,url,colmuns){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),data_table_grid=$("#"+form).DataTable({destroy:!0,processing:!0,serverSide:!0,searching:!1,ajax:url,columns:colmuns,responsive:!0,ordering:!1,lengthChange:!1,pageLength:5,language:{sSearch:"",paginate:{next:">>",previous:"<<"}},dom:"Bfrtip",buttons:["copy","excel","pdf"]})},filterChange=function(){var filter=$(".dataTables_filter");$(".search-div").append(filter)};$(document).on("click",".view-req",function(){$(".tab-pane").removeClass("active show"),$("#req-chat").addClass("active show")}),$(document).on("click","#req-back",function(){$(".tab-pane").removeClass("active show"),$("#requests").addClass("active show")}),$(".saveDateCosts").click(function(){var id=$(this).attr("data-id"),url_type=urls.base_url+"/operation/add_costs",method="POST",data=getData("CostsAdd"+id);data.append("_method","POST"),sendPost("POST",url_type,data)}),$(".delete_costs").click(function(){var url_type="delete_costs",id=$(this).attr("data-id"),method="Delete";swal({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data!",icon:"warning",buttons:!0,dangerMode:!0}).then(willDelete=>{if(willDelete){var data={_method:"DELETE"};sendPost("DELETE",urls.base_url+"/operation/"+url_type+"/"+id,data)}else swal("Your data is safe!")})}),$("#saveDateNotes").click(function(){var url_type=urls.base_url+"/operation/add_notes",method="POST",data=getData("NotesAdd");data.append("_method","POST"),sendPost("POST",url_type,data)}),$(".delete_notes").click(function(){var url_type="delete_notes",id=$(this).attr("data-id"),method="Delete";swal({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data!",icon:"warning",buttons:!0,dangerMode:!0}).then(willDelete=>{if(willDelete){var data={_method:"DELETE"};sendPost("DELETE",urls.base_url+"/operation/"+url_type+"/"+id,data)}else swal("Your data is safe!")})}),$("#saveDateRecommendtions").click(function(){var url_type=urls.base_url+"/operation/add_recommendtions",method="POST",data=getData("RecommendtionsAdd");data.append("_method","POST"),sendPost("POST",url_type,data)}),$(".delete_recommendtions").click(function(){var url_type="delete_recommendtions",id=$(this).attr("data-id"),method="Delete";swal({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data!",icon:"warning",buttons:!0,dangerMode:!0}).then(willDelete=>{if(willDelete){var data={_method:"DELETE"};sendPost("DELETE",urls.base_url+"/operation/"+url_type+"/"+id,data)}else swal("Your data is safe!")})}),$("#saveDateReplayRecommendtions").click(function(){var url_type=urls.base_url+"/operation/add_recommendtions",method="POST",data=getData("ReplayRecommendtionsAdd");data.append("_method","POST"),sendPost("POST",url_type,data)});var showRecommendtionDetails=function(id){var xhttp=new XMLHttpRequest;xhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&(document.getElementById("RecommendtionDetails").innerHTML=this.responseText)},xhttp.open("GET",urls.base_url+"/operation/show_recommection_details/"+id,!0),xhttp.send()};$(function($){$(".navbar-nav .nav-link").click(function(e){var link,item=$(this).parent("li");item.hasClass("active")?item.removeClass("active").children("a").removeClass("active"):item.addClass("active").children("a").addClass("active")}).each(function(){var link=$(this);if(link.get(0).href===location.href)return link.addClass("active").parents("li").addClass("active"),!1})}),$(function($){$(".list-group-item").click(function(e){var link=$(this);$(".list-group-item").removeClass("active")}).each(function(){var link=$(this);if(link.get(0).href===location.href)return link.addClass("active").parents(".collapse").prev().addClass("active"),link.addClass("active").parents(".collapse").addClass("show"),!1})}),$(function(){$("a.nav-link").click(function(e){$(".nav-tabs li").removeClass("active"),$($(this).parent(".nav-item")).addClass("active")})});